{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nexport let OrderDetailsComponent = class OrderDetailsComponent {\n  constructor(router) {\n    this.router = router;\n    this.pickupMethod = \"licno\";\n    this.name = \"\";\n    this.surname = \"\";\n    this.phone = \"\";\n    this.email = \"\";\n    this.error = \"\";\n    this.showError = false;\n    this.postal = \"\";\n    this.city = \"\";\n    this.address = \"\";\n    this.location = \"Terazije 5\";\n  }\n  validateEmail() {\n    const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6}$/;\n    return regex.test(this.email);\n  }\n  validatePhone() {\n    const regex = /^[+]{0,1}[0-9-]+$/;\n    return regex.test(this.phone);\n  }\n  validatePostal() {\n    const regex = /^[0-9]{5}$/;\n    return regex.test(this.postal);\n  }\n  validations() {\n    if (this.name == \"\") {\n      this.error = \"Polje sa imenom mora biti popunjeno.\";\n      this.showError = true;\n      return;\n    }\n    if (this.surname == \"\") {\n      this.error = \"Polje sa prezimenom mora biti popunjeno.\";\n      this.showError = true;\n      return;\n    }\n    if (this.phone == \"\") {\n      this.error = \"Polje sa brojem telefona mora biti popunjeno.\";\n      this.showError = true;\n      return;\n    }\n    if (this.email == \"\") {\n      this.error = \"Polje sa mejlom mora biti popunjeno.\";\n      this.showError = true;\n      return;\n    }\n    if (!this.validateEmail()) {\n      this.error = \"Polje mejl nije u odgovarajućem formatu.\";\n      this.showError = true;\n      return;\n    }\n    if (!this.validatePhone()) {\n      this.error = \"Polje telefon nije u odgovarajućem formatu.\";\n      this.showError = true;\n      return;\n    }\n    if (this.pickupMethod == \"kurir\") {\n      if (this.postal == \"\") {\n        this.error = \"Polje sa poštanskim brojem mora biti popunjeno.\";\n        this.showError = true;\n        return;\n      }\n      if (this.city == \"\") {\n        this.error = \"Polje sa gradom mora biti popunjeno.\";\n        this.showError = true;\n        return;\n      }\n      if (this.address == \"\") {\n        this.error = \"Polje sa adresa mora biti popunjeno.\";\n        this.showError = true;\n        return;\n      }\n      if (!this.validatePostal()) {\n        this.error = \"Polje sa poštanskim brojem mora biti popunjeno u odgovarajućem formatu (pet cifara).\";\n        this.showError = true;\n        return;\n      }\n    }\n  }\n  finalize() {\n    this.error = \"\";\n    this.showError = false;\n    this.validations();\n    if (this.showError) {\n      const modalNative = this.modalError.nativeElement;\n      const modal = new bootstrap.Modal(modalNative, {\n        backdrop: 'static',\n        keyboard: false // Prevents closing with the escape key\n      });\n\n      modal.show();\n      return;\n    }\n    localStorage.setItem(\"name\", this.name);\n    localStorage.setItem(\"surname\", this.surname);\n    localStorage.setItem(\"email\", this.email);\n    localStorage.setItem(\"phone\", this.phone);\n    localStorage.setItem(\"pickup\", this.pickupMethod);\n    localStorage.setItem(\"location\", this.location);\n    localStorage.setItem(\"postal\", this.postal);\n    localStorage.setItem(\"city\", this.city);\n    localStorage.setItem(\"address\", this.address);\n    this.router.navigate([\"final\"]);\n  }\n};\n__decorate([ViewChild('errorModal')], OrderDetailsComponent.prototype, \"modalError\", void 0);\nOrderDetailsComponent = __decorate([Component({\n  selector: 'app-order-details',\n  templateUrl: './order-details.component.html',\n  styleUrls: ['./order-details.component.css']\n})], OrderDetailsComponent);","map":{"version":3,"names":["Component","ViewChild","OrderDetailsComponent","constructor","router","pickupMethod","name","surname","phone","email","error","showError","postal","city","address","location","validateEmail","regex","test","validatePhone","validatePostal","validations","finalize","modalNative","modalError","nativeElement","modal","bootstrap","Modal","backdrop","keyboard","show","localStorage","setItem","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\Projects\\Web2\\ArtDigitalApp\\frontend\\frontend\\src\\app\\components\\order-details\\order-details.component.ts"],"sourcesContent":["import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\n\ndeclare var bootstrap: any; // This is for Bootstrap's JavaScript\n\n@Component({\n  selector: 'app-order-details',\n  templateUrl: './order-details.component.html',\n  styleUrls: ['./order-details.component.css']\n})\nexport class OrderDetailsComponent {\n\n  @ViewChild('errorModal') modalError!: ElementRef;\n  pickupMethod:string = \"licno\";\n  name: string = \"\";\n  surname: string = \"\";\n  phone: string = \"\";\n  email: string = \"\";\n  error: string = \"\";\n  showError: boolean = false;\n  postal: string = \"\";\n  city: string = \"\";\n  address: string = \"\";\n  location: string = \"Terazije 5\";\n\n  constructor(private router: Router){\n\n  }\n\n  validateEmail(): boolean {\n    const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6}$/;\n    return regex.test(this.email);\n  }\n\n  validatePhone(): boolean {\n    const regex = /^[+]{0,1}[0-9-]+$/;\n    return regex.test(this.phone);\n  }\n\n  validatePostal(): boolean{\n    const regex = /^[0-9]{5}$/;\n    return regex.test(this.postal);\n  }\n\n  validations(){\n    if(this.name == \"\"){\n      this.error = \"Polje sa imenom mora biti popunjeno.\";\n      this.showError = true;\n      return;\n    }\n    if(this.surname == \"\"){\n      this.error = \"Polje sa prezimenom mora biti popunjeno.\";\n      this.showError = true;\n      return;\n    }\n    if(this.phone == \"\"){\n      this.error = \"Polje sa brojem telefona mora biti popunjeno.\";\n      this.showError = true;\n      return;\n    }\n    if(this.email == \"\"){\n      this.error = \"Polje sa mejlom mora biti popunjeno.\";\n      this.showError = true;\n      return;\n    }\n    if(!this.validateEmail()){\n      this.error = \"Polje mejl nije u odgovarajućem formatu.\";\n      this.showError = true;\n      return;\n    }\n    if(!this.validatePhone()){\n      this.error = \"Polje telefon nije u odgovarajućem formatu.\";\n      this.showError = true;\n      return;\n    }\n    if(this.pickupMethod == \"kurir\"){\n      if(this.postal == \"\"){\n        this.error = \"Polje sa poštanskim brojem mora biti popunjeno.\";\n        this.showError = true;\n        return;\n      }\n      if(this.city == \"\"){\n        this.error = \"Polje sa gradom mora biti popunjeno.\";\n        this.showError = true;\n        return;\n      }\n      if(this.address == \"\"){\n        this.error = \"Polje sa adresa mora biti popunjeno.\";\n        this.showError = true;\n        return;\n      }\n      if(!this.validatePostal()){\n        this.error = \"Polje sa poštanskim brojem mora biti popunjeno u odgovarajućem formatu (pet cifara).\";\n        this.showError = true;\n        return;\n      }\n    }\n  }\n\n  finalize(){\n    this.error = \"\";\n    this.showError = false;\n    this.validations();\n    if(this.showError){\n      const modalNative: HTMLElement = this.modalError.nativeElement;\n      const modal = new bootstrap.Modal(modalNative, {\n        backdrop: 'static', // Prevents closing when clicking outside\n        keyboard: false // Prevents closing with the escape key\n      });\n      modal.show();\n      return;\n    }\n    localStorage.setItem(\"name\", this.name);\n    localStorage.setItem(\"surname\", this.surname);\n    localStorage.setItem(\"email\", this.email);\n    localStorage.setItem(\"phone\", this.phone);\n    localStorage.setItem(\"pickup\", this.pickupMethod);\n    localStorage.setItem(\"location\", this.location);\n    localStorage.setItem(\"postal\", this.postal);\n    localStorage.setItem(\"city\", this.city);\n    localStorage.setItem(\"address\", this.address);\n    this.router.navigate([\"final\"]);\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}